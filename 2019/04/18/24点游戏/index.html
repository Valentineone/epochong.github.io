<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="CSDN迁移,">










<meta name="description" content="版权声明：wangchong https://blog.csdn.net/wfcn_zyq/article/details/89195692  1.题目分析 12345678910111213141516171819202122232425262728293031323334353637383924点游戏是经典的纸牌益智游戏。常见游戏规则：   从扑克中每次取出4张牌。使用加减乘除，第一个能得出">
<meta name="keywords" content="CSDN迁移">
<meta property="og:type" content="article">
<meta property="og:title" content="24点游戏">
<meta property="og:url" content="http://yoursite.com/2019/04/18/24点游戏/index.html">
<meta property="og:site_name" content="epochong">
<meta property="og:description" content="版权声明：wangchong https://blog.csdn.net/wfcn_zyq/article/details/89195692  1.题目分析 12345678910111213141516171819202122232425262728293031323334353637383924点游戏是经典的纸牌益智游戏。常见游戏规则：   从扑克中每次取出4张牌。使用加减乘除，第一个能得出">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2019041018265094.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410182822256.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410182834326.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2019041018284727.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410182855916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410182905125.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410182909433.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410182914229.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410182928243.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410182955362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410183005498.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410183018738.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2019041018302543.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410183034549.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410183045428.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410183100127.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410183110406.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20190410183120823.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">
<meta property="og:updated_time" content="2019-05-14T04:17:50.293Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="24点游戏">
<meta name="twitter:description" content="版权声明：wangchong https://blog.csdn.net/wfcn_zyq/article/details/89195692  1.题目分析 12345678910111213141516171819202122232425262728293031323334353637383924点游戏是经典的纸牌益智游戏。常见游戏规则：   从扑克中每次取出4张牌。使用加减乘除，第一个能得出">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/2019041018265094.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/04/18/24点游戏/">





  <title>24点游戏 | epochong</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">epochong</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/18/24点游戏/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="epochong">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="epochong">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">24点游戏</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-18T22:40:50+08:00">
                2019-04-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p> 版权声明：wangchong <a href="https://blog.csdn.net/wfcn_zyq/article/details/89195692" target="_blank" rel="noopener">https://blog.csdn.net/wfcn_zyq/article/details/89195692</a><br>  <strong>1.题目分析</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">24点游戏是经典的纸牌益智游戏。</span><br><span class="line">常见游戏规则：</span><br><span class="line">   从扑克中每次取出4张牌。使用加减乘除，第一个能得出24者为赢。</span><br><span class="line">   （其中，J代表11，Q代表12，K代表13，A代表1），按照要求编程解决24点游戏。</span><br><span class="line">基本要求： 随机生成4个代表扑克牌牌面的数字字母，程序自动列出所有可能算出</span><br><span class="line">24的表达式，用擅长的语言（C/C++/Java或其他均可）实现程序解决问题。</span><br><span class="line">          1.程序风格良好(使用自定义注释模板)</span><br><span class="line">          2.列出表达式无重复。</span><br><span class="line">提高要求：用户初始生命值为一给定值（比如3），初始分数为0。随机生成</span><br><span class="line">4个代表扑克牌牌面的数字或字母，由用户输入包含这4个数字或字母的运算</span><br><span class="line">表达式（可包含括号），如果表达式计算结果为24则代表用户赢了此局。</span><br><span class="line">         1. 程序风格良好(使用自定义注释模板)</span><br><span class="line">         2.使用计时器要求用户在规定时间内输入表达式，如果规定时间内运算</span><br><span class="line">         正确则加分，超时或运算错误则进入下一题并减少生命值（不扣分）。</span><br><span class="line">         3.所有成绩均可记录在TopList.txt文件中。</span><br><span class="line">分析与解法</span><br><span class="line">            最直接的想法就是采用穷举法，因为运算符号只有4种，每个数字只能使</span><br><span class="line">      用一次，所以通过穷举4个数所有可能的表达式，并分别计算出各表达式</span><br><span class="line">      的值，就可以得到答案。</span><br><span class="line">           先不考虑使用括号，可以做出如下分析:</span><br><span class="line">      因为每个数只能使用一次，那么就对4个数进行全排列,总共有4!=4 * 3 * 2 * 1=24</span><br><span class="line">      种排列。4个数的四则运算中总共需要3个运算符，同一运算符可以重复出现，</span><br><span class="line">      那么对于每一个排列，总共可有4 * 4 * 4种表达式。因此在不考虑括号的情况下，</span><br><span class="line">      总共可以得到4! * 4= 1536种表达式。</span><br><span class="line">               接下来再考虑加上括号后的情况，对于4个数而言，总共会有以下5种加括号的方式:</span><br><span class="line">       (A(B(CD))、 (A((BC)D)、 ((4B)(CD))、 (A(BC)D)、 (AB)C)D)。</span><br><span class="line">      所以需要遍历的表达式数最多有4! * 4 * 5 = 7680种。当然，这里可以采用逆波兰</span><br><span class="line">      表达式的方法，但其表达式数仍为4! * 4 * 5= 7680种。</span><br><span class="line">      通过上面的分析，得到了一种解24点的基本思路，即遍历运算符、数字和括号的</span><br><span class="line">      所有排列组合形式，接下来，我们将更加细致地讨论这种解法的一个具体实现。</span><br><span class="line">      假设给定的4个数组成的集合为A=&#123;1,2,3,4&#125;，定义函数f(A)为对集合A中的元素进</span><br><span class="line">      行所有可能的四则混合运算所得到的值。</span><br><span class="line">              首先从集合A中任意取出两个数，如取出1和2, A=A- &#123;1,2&#125;，对取出来的数分别进</span><br><span class="line">      行不同的四则运算，1+2=3， 1-2=-1, 1/2=0.5， 1x2=2,将所得的结果再分别加入</span><br><span class="line">      集合A，可得到B=&#123;3,3,4&#125;, C=&#123;-1,3,4&#125;, D=&#123;0.5,3,4&#125;, E= &#123;, 3,4&#125;四个新的集合，那么</span><br><span class="line">      f(A)=f(B)+f(C)+f(D)+J(E),通过以上的计算就达到了分而治之的目的，问题规模就</span><br><span class="line">      从4个数降到了3个数，成了3个数的4个子问题之和。</span><br><span class="line">      综上所述，可以得到递归解法为:</span><br><span class="line">     首先将给定的4个数放入数组Array中，将其作为参数传入函数f中，伪代码如下:</span><br></pre></td></tr></table></figure>
<p> <strong>程序伪代码</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">if (Array. Length &lt; 2) &#123;</span><br><span class="line">   if (得到的最终结果为24)输出表达式）</span><br><span class="line">   else（输出无法构造符合要求的表达式）</span><br><span class="line">   &#125;</span><br><span class="line">   foreach (从数组中任取两个数的组合) &#123;</span><br><span class="line">        foreach (运算符( +，一，x, /) ) &#123;</span><br><span class="line">        1.计算该组合在此运算符下的结果</span><br><span class="line">        2.将该组合中的两个数从原数组中移除，并将步骤1的计算结果放入数 组                     </span><br><span class="line">        3.对新数组递归调用f.如果找到一-个表达式则返回</span><br><span class="line">   	4.将步骤1的计算结果移除，并将该组合中的两个数重新放回数组中对应的位置</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p> 2.关键算法构造<br> 程序流程总图<br> <img src="https://img-blog.csdnimg.cn/2019041018265094.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="24点总体流程"><br> 3.程序实现<br> papackage <a href="http://www.homework.ChapterThree" target="_blank" rel="noopener">www.homework.ChapterThree</a>;</p>
<p> import <a href="http://java.io" target="_blank" rel="noopener">java.io</a>.<em>;<br> import java.util.</em>;</p>
<p> public class FourRandomGameExceptionThreadOf24 {<br> private static final int CardsNumber = 4;<br> private static final int ResultValue = 24;<br> private static double number[] = new double[CardsNumber];<br> private static String result[] = new String[CardsNumber];<br> private static HashMap&lt;Integer,String&gt; map = new HashMap&lt;&gt;();//存放结果Hash表，key为按递增序列排序的，方便对map的操作<br> private static int hashSize = 0;<br> private static HashMap&lt;Integer,String&gt; JQKA = new HashMap&lt;&gt;();//存放数字和扑克牌一一对应关系<br> private static ArrayList str = new ArrayList();<br> private static Set treeMap = new TreeSet&lt;&gt;();//用存放Person类的信息，方便按照分数由高到底输出<br> static {<br> JQKA.put(1,“A”);<br> JQKA.put(2,“2”);<br> JQKA.put(3,“3”);<br> JQKA.put(4,“4”);<br> JQKA.put(5,“5”);<br> JQKA.put(6,“6”);<br> JQKA.put(7,“7”);<br> JQKA.put(8,“8”);<br> JQKA.put(9,“9”);<br> JQKA.put(10,“10”);<br> JQKA.put(11,“J”);<br> JQKA.put(12,“Q”);<br> JQKA.put(13,“K”);<br> }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 对随机的四个数进行递归且24点，穷举了所有可能，将结果存储到map中</span><br><span class="line"> * @param n 要递归的操作数的个数</span><br><span class="line"> */</span><br><span class="line">private static void PointsGame(int n) &#123;</span><br><span class="line">    if (n == 1) &#123;</span><br><span class="line">        if (Math.abs(number[0] - ResultValue) == 0) &#123;</span><br><span class="line">            if (!map.containsValue(result[0])) &#123;</span><br><span class="line">                map.put(hashSize++,result[0]);</span><br><span class="line">            &#125;</span><br><span class="line">            return ;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        for (int j = i + 1; j &lt; n; j++) &#123;</span><br><span class="line">            double a;</span><br><span class="line">            double b;</span><br><span class="line">            String expa;</span><br><span class="line">            String expb;</span><br><span class="line">            a = number[i];</span><br><span class="line">            b = number[j];</span><br><span class="line">            number[j] = number[n - 1];</span><br><span class="line"></span><br><span class="line">            expa = result[i];</span><br><span class="line">            expb = result[j];</span><br><span class="line">            result[j] = result[n - 1];</span><br><span class="line">            //避免了因交换律产生的多个重复的解</span><br><span class="line">            if (a &lt;= b) &#123;</span><br><span class="line">                result[i] = &apos;(&apos; + expa + &apos;+&apos; + expb + &apos;)&apos;;</span><br><span class="line">                number[i] = a + b;</span><br><span class="line">                PointsGame(n - 1);</span><br><span class="line">            &#125;</span><br><span class="line">            result[i] = &apos;(&apos; + expa + &apos;-&apos; + expb + &apos;)&apos;;</span><br><span class="line">            number[i] = a - b;</span><br><span class="line">            PointsGame(n - 1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            result[i] = &apos;(&apos; + expb + &apos;-&apos; + expa + &apos;)&apos;;</span><br><span class="line">            number[i] = b - a;</span><br><span class="line">            PointsGame(n - 1);</span><br><span class="line"></span><br><span class="line">            if (a &lt;= b) &#123;</span><br><span class="line">                result[i] = &apos;(&apos; + expa + &apos;*&apos; + expb + &apos;)&apos;;</span><br><span class="line">                number[i] = a * b;</span><br><span class="line">                PointsGame(n - 1);</span><br><span class="line">            &#125;</span><br><span class="line">            if (b != 0) &#123;</span><br><span class="line">                result[i] = &apos;(&apos; + expa + &apos;/&apos; + expb + &apos;)&apos;;</span><br><span class="line">                number[i] = a / b;</span><br><span class="line">                PointsGame(n - 1);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (a != 0) &#123;</span><br><span class="line">                result[i] = &apos;(&apos; + expb+ &apos;/&apos; + expa + &apos;)&apos;;</span><br><span class="line">                number[i] = b / a;</span><br><span class="line">                PointsGame(n - 1);</span><br><span class="line">            &#125;</span><br><span class="line">            number[i] = a;</span><br><span class="line">            number[j] = b;</span><br><span class="line">            result[i] = expa;</span><br><span class="line">            result[j] = expb;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 简单的开始界面函数</span><br><span class="line"> */</span><br><span class="line">private static void menu() &#123;</span><br><span class="line">    System.out.println(&quot;*****************&quot;);</span><br><span class="line">    System.out.println(&quot;*   24点游戏     *&quot;);</span><br><span class="line">    System.out.println(&quot;*   1.开始       *&quot;);</span><br><span class="line">    System.out.println(&quot;*   2.排名       *&quot;);</span><br><span class="line">    System.out.println(&quot;*   3.结束       *&quot;);</span><br><span class="line">    System.out.println(&quot;*****************&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 对用户按照分数进行排序，通过TreeSet集合可以简单的实现，只要向里面存储就行了 </span><br><span class="line"> * @throws FileNotFoundException</span><br><span class="line"> */</span><br><span class="line">public static void sort() throws FileNotFoundException &#123;</span><br><span class="line">    Scanner input = new Scanner(new File(&quot;F:\\Program\\Java\\IDEA\\Arithmetic\\src\\www\\homework\\ChapterThree\\TopList.txt&quot;));</span><br><span class="line">    //input.useDelimiter(&quot;\r\n&quot;);</span><br><span class="line">    while (input.hasNextLine()) &#123;</span><br><span class="line">        String scannerRead  = input.nextLine();</span><br><span class="line">        treeMap.add(new Person(scannerRead.split(&quot; &quot;)[0],Integer.valueOf(scannerRead.split(&quot; &quot;)[1])));</span><br><span class="line">        /*for (int i = 0; i &lt; str.size(); i++) &#123;</span><br><span class="line">            for (int j = i; j &gt;0; j--) &#123;</span><br><span class="line">                String[] spj = str.get(j).split(&quot; &quot;);</span><br><span class="line">                String[] spj_1 = str.get((j - 1)).split(&quot; &quot;);</span><br><span class="line">                if (Integer.valueOf(spj[1]) &gt; Integer.valueOf(spj_1[1])) &#123;</span><br><span class="line">                    String temp = str.get(j);</span><br><span class="line">                    str.set(j,str.get(j - 1));</span><br><span class="line">                    str.set(j - 1,temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;*/</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">public static void main(String[] args) throws IOException &#123;</span><br><span class="line">    Scanner input = new Scanner(System.in);</span><br><span class="line">    int select;</span><br><span class="line">    while (true) &#123;</span><br><span class="line">        menu();</span><br><span class="line">        System.out.println(&quot;select:&gt;&quot;);</span><br><span class="line">        select = input.nextInt();</span><br><span class="line">        if (select == 3) &#123;</span><br><span class="line">            break;</span><br><span class="line">        &#125; else if (select == 2) &#123;</span><br><span class="line">            sort();</span><br><span class="line">            System.out.println(treeMap);</span><br><span class="line">        &#125; else if (select == 1) &#123;</span><br><span class="line">            System.out.println(&quot;请输入用户ID:&quot;);</span><br><span class="line">            input.nextLine();</span><br><span class="line">            String ID = input.nextLine();</span><br><span class="line">            Person person = new Person(ID);</span><br><span class="line">            while (person.life != 0) &#123;</span><br><span class="line"></span><br><span class="line">                System.out.println(&quot;随机的4个扑克牌是&quot;);</span><br><span class="line">                for (int i = 0; i &lt; CardsNumber; i++) &#123;</span><br><span class="line">                    int x = (int) (Math.random() * 13) + 1;</span><br><span class="line">                    if (x &lt;= 10 &amp;&amp; x &gt;= 2) &#123;</span><br><span class="line">                        System.out.print(x + &quot; &quot;);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        System.out.print(JQKA.get(x) + &quot; &quot;);</span><br><span class="line">                    &#125;</span><br><span class="line">                    number[i] = x;</span><br><span class="line">                    result[i] = JQKA.get(x);</span><br><span class="line">                &#125;</span><br><span class="line">                PointsGame(CardsNumber);</span><br><span class="line">                if (map.size() == 0) &#123;</span><br><span class="line">                    System.out.println();</span><br><span class="line">                    System.out.println(&quot;这组组合没有解,进行下一组!&quot;);</span><br><span class="line">                    continue;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    System.out.println();</span><br><span class="line">                    System.out.println(&quot;答案表如下!&quot;);</span><br><span class="line">                    for (int mapKey : map.keySet()</span><br><span class="line">                            ) &#123;</span><br><span class="line">                        System.out.println(map.get(mapKey));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(&quot;您有30秒的时间答题！&quot;);</span><br><span class="line">                System.out.println(&quot;请输入求24点的表达式:&quot;);</span><br><span class="line"></span><br><span class="line">                /**</span><br><span class="line">                 * 倒计时操作</span><br><span class="line">                 */</span><br><span class="line">                int time = 0;</span><br><span class="line">                new Timer().schedule(new MyTimerTask1(), 2000);</span><br><span class="line">                // 下面这段代码是每隔1秒,打印下当前的时间</span><br><span class="line">                while (true) &#123;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        if (input.hasNext()) &#123;//在有输入的时候提前跳出，判断是否正确</span><br><span class="line">                            break;</span><br><span class="line">                        &#125;</span><br><span class="line">                        if (++time == 150) &#123;</span><br><span class="line">                            System.out.println(&quot;30秒时间到,进入下一题,减少1个生命值！&quot;);</span><br><span class="line">                            System.out.println(&quot;你还剩下&quot; + (--person.life) + &quot;的生命值！&quot;);</span><br><span class="line">                            System.out.println(&quot;1.继续&quot;);</span><br><span class="line">                            System.out.println(&quot;2.不玩了&quot;);</span><br><span class="line">                            for (int i = hashSize - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">                                map.remove(i);</span><br><span class="line">                            &#125;</span><br><span class="line">                            break;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        Thread.sleep(1000);//其实这是一个线程，让程序停滞1秒钟</span><br><span class="line"></span><br><span class="line">                    &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                //用户再此输入答案</span><br><span class="line">                String personResult = input.nextLine();</span><br><span class="line">                if (personResult.equals(&quot;1&quot;)) &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125; else if (personResult.equals(&quot;2&quot;)) &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                if (map.containsValue(personResult)) &#123;</span><br><span class="line">                    System.out.println(&quot;表达式正确,加10分!进入下一题!&quot;);</span><br><span class="line">                    person.score += 10;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    System.out.println(&quot;答题错误,进入下一题,减少1个生命值！&quot;);</span><br><span class="line">                    System.out.println(&quot;你还剩下&quot; + (--person.life) + &quot;的生命值！&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">                map.clear();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            if (person.life == 0) &#123;</span><br><span class="line">                System.out.println(&quot;您的生命值已用完,游戏结束!&quot;);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                System.out.println(&quot;您已结束游戏!&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(&quot;用户:&quot; + person.ID);</span><br><span class="line">            System.out.println(&quot;分数:&quot; + person.score);</span><br><span class="line">            //存入文件的操作</span><br><span class="line">            File user = new File(&quot;F:\\Program\\Java\\IDEA\\Arithmetic\\src\\www\\homework\\ChapterThree\\TopList.txt&quot;);</span><br><span class="line">            Writer out = new FileWriter(user,true);</span><br><span class="line">            Scanner fileScanner = new Scanner(user);</span><br><span class="line">            ArrayList&lt;String&gt; fileReadStr = new ArrayList&lt;&gt;();</span><br><span class="line">            while (fileScanner.hasNextLine()) &#123;</span><br><span class="line">                fileReadStr.add(fileScanner.nextLine());</span><br><span class="line">            &#125;</span><br><span class="line">            /**</span><br><span class="line">             * 下面是判断用户是否是之前有过记录的用户</span><br><span class="line">             * 如果用具名称相同，只修改他现有的分数即可</span><br><span class="line">             * 其实这一部分用HashMap作为数据结构然后结合文件进行操作即可</span><br><span class="line">             * 这里是使用字符串切割然后比较的方式</span><br><span class="line">             */</span><br><span class="line">            int contain = 0;</span><br><span class="line">            for (int i = 0; i &lt; fileReadStr.size(); i++) &#123;</span><br><span class="line">                if (fileReadStr.get(i).split(&quot; &quot;)[0].equals(person.ID)) &#123;</span><br><span class="line">                    fileReadStr.set(i,person.ID + &quot; &quot; + person.score + &quot;\r\n&quot;);</span><br><span class="line">                    out.write(fileReadStr.get(i));</span><br><span class="line">                    contain = 1;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    out.write(fileReadStr.get(i) + &quot;\r\n&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (contain == 0) &#123;</span><br><span class="line">                out.write(person.ID + &quot; &quot; + person.score + &quot;\r\n&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            out.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(&quot;游戏结束,祝您生活愉快!&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> }<br> }</p>
<p> 4.调试、测试及运行结果<br> 4.1调试截图<br> 前端用户的输入<br> <img src="https://img-blog.csdnimg.cn/20190410182822256.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 程序内部变量<br> number数组是操作数数组，存放生成的随机扑克牌对应的数字<br> 其中result数组是一个String类型的数组中吧保存扑克牌，递归最终result[0]为表达式最终解<br> 我使用了HashMap JQKA作为存储数字和扑克牌之间的一一对应关系，方便对数字运算的时候，对字符串也进行操作<br> <img src="https://img-blog.csdnimg.cn/20190410182834326.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p> 用户类信息，<br> 包括<br> life：生命<br> ID：用户ID<br> score：用户的分数<br> <img src="https://img-blog.csdnimg.cn/2019041018284727.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 开始递归的模样<img src="https://img-blog.csdnimg.cn/20190410182855916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p> 过程截图，正在递归<br> <img src="https://img-blog.csdnimg.cn/20190410182905125.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://img-blog.csdnimg.cn/20190410182909433.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://img-blog.csdnimg.cn/20190410182914229.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p> 递归的过程中找到了合适的答案<br> 由图所示map中存放的就是所求的答案<br> <img src="https://img-blog.csdnimg.cn/20190410182928243.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 如下图所示，找到了新的第4个答案<br> <img src="https://img-blog.csdnimg.cn/20190410182955362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 4.2测试截图</p>
<p> 开始界面，选择1进行操作，输入用户名，随机产生数字<br> <img src="https://img-blog.csdnimg.cn/20190410183005498.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p> 随机生成的数的所有答案<br> <img src="https://img-blog.csdnimg.cn/20190410183018738.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> <img src="https://img-blog.csdnimg.cn/2019041018302543.png" alt="在这里插入图片描述"></p>
<p> 答对答案加10分<br> 答错不扣分，减少生命值<br> <img src="https://img-blog.csdnimg.cn/20190410183034549.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 当你的生命值用完之后可以选择继续下一个用户，可以结束游戏，也可以查看排名<br> <img src="https://img-blog.csdnimg.cn/20190410183045428.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 第一个用户：wangchong答对了两题20分<br> <img src="https://img-blog.csdnimg.cn/20190410183100127.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 第二个用户：gaoyangyang对了一题10分<br> 按照分数有低到高排序，这里我是用了TreeSet保存用户自定义的类Person从而达到用户信息不会重复，并且Person类实现了Comparable接口，然后在Person类中重写了compareTo方法，使之按照分数大小排序<br> <img src="https://img-blog.csdnimg.cn/20190410183110406.png" alt="在这里插入图片描述"><br> 在文件中保存的是<br> <img src="https://img-blog.csdnimg.cn/20190410183120823.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dmY25fenlx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br> 5.经验归纳<br> 本次实验，我做了好几个不同的版本，文件夹下面的FourRandomGameExceptionThreeOf24.java是最终的作业版本，里面实现了随机生成的扑克牌并存储所有可能算出二十四点的带有括号的中缀表达式，将这些所有的结果，存储到hash表，这样再用户输入答案的时候，程序可以方便的在hash表中匹配是否有这样的答案，如果有则用户回答正确，如果没有则回答错误。可以方便的为实现游戏功能。<br> PosExprePro.java实现了中缀表达式求解加减乘除的运算，也就是用栈实现的，只要程序调用这个类，并且传递给最终递归得到的结果就可以轻松的算处是否是24点，但是我并没有采用这个方式计算24点，因为它没有HashMap时间复杂度O(1)的快捷。并且他的两个栈的开销，计算时间也相对较大所以我选择了前者。<br> AllResultGameOf24.java下的程序是对于求二十四点的所有表达式，包含相同的运算方式但是只是操作数的结合方式不同而已，例如如果四个数的全加法正好等于二十四，那么所有操作数的位置不同，结合方式不同就会产生不同的答案。我认为这样的答案对程序员是不友好的，因为它明明就是一种解法，但是他对用户是非常友好的，因为你并不知道用户是如何输入答案的，作为程序员应该尽可能考虑用户的所有输入可能。<br> 为了让我更加舒服的看程序，我想看看到底四个数可以生成的算二十四点的方式有几种，我设计了产生更纯粹答案的类AllPureResultGameOf24.java 它可以算出来更为纯粹的答案，就明确的得到答案的个数，实现方法很简单，在AllResultGameOf24.java类的基础上，将重复答案去除即可，因为产生重复答案的可能仅仅出现在加法和乘法操作中（因为加法和乘法的操作虽然操作数的位置不同但是结果必然是相同的），在一个答案表达式中，加号或乘号的个数小于3的颠倒操作数的是多种答案可能可以通过当其中其中一个操作数小于等于另外一个操作数的时候在进行加操作或者乘操作。当加号或乘号的个数为3个的时候，我只保留第一出现的这种情况，当第二次出线这种情况事，不保存他，这只需要对答案数组按照加号，或者乘号切分字符串即可，这样他们必然被切分为4个子字符串。<br> FourRandomGameExceptionThreadOf24.java类下面，在实现倒计时的时候，运用了多线程的功能，即在用户的输入的同时，计时的程序同时也在进行了，运用多线程是非常合适的。<br> 还有一处亮点是在用户类Person.java下面实现了Comparable接口，这样在进行排名的时候就相当的方便了，我只需要吧Person类的相关信息保存在TreeSet集合中，并覆写了CompareTo方法保证按照score（用户分数）由大到小排列，这样，在输出排名信息的时候就直接对TreeSet进行输出即可，这样既能看见用户信息，用对用户的分数进行了排名，一举两得。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/CSDN迁移/" rel="tag"># CSDN迁移</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/04/04/模拟图灵机/" rel="next" title="模拟图灵机">
                <i class="fa fa-chevron-left"></i> 模拟图灵机
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/30/Java中使用ArrayList创建二维数组/" rel="prev" title="Java中使用ArrayList创建二维数组">
                Java中使用ArrayList创建二维数组 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">epochong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">epochong</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":85,"height":170},"mobile":{"show":false},"log":false});</script></body>
</html>
